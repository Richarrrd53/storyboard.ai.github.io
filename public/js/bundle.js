/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./public/js/home.js":
/*!***************************!*\
  !*** ./public/js/home.js ***!
  \***************************/
/***/ (() => {

eval("const nextBtn = document.getElementById(\"nextBtn\");\r\nconst inputText = document.getElementById(\"inputText\");\r\nconst inputBG = document.getElementById(\"inputBG\");\r\nconst inputContainer = document.getElementById(\"inputContainer\");\r\nconst responseArea = document.getElementById(\"chatOutput\");\r\nconst continueBtn = document.getElementById(\"continueBtn\");\r\nconst historyBtn = document.getElementById(\"historyBtn\");\r\nconst inputCloseBtn = document.getElementById(\"inputCloseBtn\");\r\nconst BG = document.getElementById(\"BG\");\r\n\r\nlet isStarted = false;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    BG.style.width = window.innerWidth + \"px\";\r\n    BG.style.height = window.innerHeight + \"px\";\r\n    document.body.style.width = window.innerWidth + \"px\";\r\n    document.body.style.height = window.innerHeight + \"px\";\r\n\r\n    const bgDot1 = document.createElement('div');\r\n    bgDot1.classList.add(\"bgDots\");\r\n    bgDot1.id = \"bgDot1\";\r\n    BG.appendChild(bgDot1);\r\n    bgDot1.style.backgroundColor = \"#c9b1e9\";\r\n    bgDot1.style.width = \"500px\"; \r\n    bgDot1.style.height = \"500px\";\r\n    bgDot1.style.left = (window.innerWidth - 500) / 2 + \"px\";\r\n    bgDot1.style.top = (window.innerHeight - 500) / 2 + \"px\";\r\n    bgDot1.style.scale = '0';\r\n\r\n    const bgDot2 = document.createElement('div');\r\n    bgDot2.classList.add(\"bgDots\");\r\n    bgDot2.id = \"bgDot2\";\r\n    BG.appendChild(bgDot2);\r\n    bgDot2.style.backgroundColor = \"#ee6055\";\r\n    bgDot2.style.width = \"500px\";\r\n    bgDot2.style.height = \"500px\";\r\n    bgDot2.style.left = (window.innerWidth - 500) / 2 + \"px\";\r\n    bgDot2.style.top = (window.innerHeight - 500) / 2 + \"px\";\r\n    bgDot2.style.scale = '0';\r\n    \r\n    const bgDot3 = document.createElement('div');\r\n    bgDot3.classList.add(\"bgDots\");\r\n    bgDot3.id = \"bgDot3\";\r\n    BG.appendChild(bgDot3);\r\n    bgDot3.style.backgroundColor = \"#fee440\";\r\n    bgDot3.style.width = \"480px\";\r\n    bgDot3.style.height = \"480px\";\r\n    bgDot3.style.left = (window.innerWidth - 480) / 2 + \"px\";\r\n    bgDot3.style.top = (window.innerHeight - 480) / 2 + \"px\";\r\n    bgDot3.style.scale = '0';\r\n\r\n    const bgDot4 = document.createElement('div');\r\n    bgDot4.classList.add(\"bgDots\");\r\n    bgDot4.id = \"bgDot4\";\r\n    BG.appendChild(bgDot4);\r\n    bgDot4.style.backgroundColor = \"#ffa962\";\r\n    bgDot4.style.width = \"360px\";\r\n    bgDot4.style.height = \"360px\";\r\n    bgDot4.style.left = (window.innerWidth - 360) / 2 + \"px\";\r\n    bgDot4.style.top = (window.innerHeight - 360) / 2 + \"px\";\r\n    bgDot4.style.scale = '0';\r\n\r\n    const bgDot5 = document.createElement('div');\r\n    bgDot5.classList.add(\"bgDots\");\r\n    bgDot5.id = \"bgDot5\";\r\n    BG.appendChild(bgDot5);\r\n    bgDot5.style.backgroundColor = \"#c9b1e9\";\r\n    bgDot5.style.width = \"250px\";\r\n    bgDot5.style.height = \"250px\";\r\n    bgDot5.style.left = (window.innerWidth - 250) / 2 + \"px\";\r\n    bgDot5.style.top = (window.innerHeight - 250) / 2 + \"px\";\r\n    bgDot5.style.scale = '0';\r\n\r\n    const bgMask = document.createElement('div');\r\n    bgMask.id = \"bgMask\";\r\n    BG.appendChild(bgMask);\r\n    bgMask.style.width = window.innerWidth + \"px\";\r\n    bgMask.style.height = window.innerHeight + \"px\";\r\n    continueBtn.style.transform = \"scale(0)\";\r\n    setTimeout(() => {\r\n        setBG();\r\n    }, 1000);\r\n});\r\n\r\nfunction setBG(){\r\n  const bgDot1 = document.getElementById(\"bgDot1\");\r\n  const bgDot2 = document.getElementById(\"bgDot2\");\r\n  const bgDot3 = document.getElementById(\"bgDot3\");\r\n  const bgDot4 = document.getElementById(\"bgDot4\");\r\n  const bgDot5 = document.getElementById(\"bgDot5\");\r\n  bgDot1.style.left = \"600px\";\r\n  bgDot1.style.top = \"-60px\";\r\n  bgDot1.style.scale = '1';\r\n\r\n  bgDot2.style.left = \"970px\";\r\n  bgDot2.style.top = \"220px\";\r\n  bgDot2.style.scale = '1';\r\n\r\n  bgDot3.style.left = \"680px\";\r\n  bgDot3.style.top = \"360px\";\r\n  bgDot3.style.scale = '1';\r\n\r\n  bgDot4.style.left = \"800px\";\r\n  bgDot4.style.top = \"290px\";\r\n  bgDot4.style.scale = '1';\r\n\r\n  bgDot5.style.left = \"-120px\";\r\n  bgDot5.style.top = \"800px\";\r\n  bgDot5.style.scale = '1';\r\n\r\n  const title1 = document.getElementById(\"title1\");\r\n  setTimeout(() => {\r\n    title1.style.scale = 2;\r\n  }, 1000);\r\n  setTimeout(() => {\r\n    continueBtn.style.transform = \"scale(1)\";\r\n  }, 2000);\r\n}\r\n\r\ncontinueBtn.addEventListener(\"mousedown\", () => {\r\n  if(isStarted == false){\r\n    continueBtn.style.scale = \"0.9\";\r\n    continueBtn.style.transition = \"all 0.5s cubic-bezier(.33,1.53,.69,.99)\";\r\n  }\r\n});\r\n\r\ncontinueBtn.addEventListener(\"mouseup\", () => {\r\n  if(isStarted == false){\r\n    continueBtn.style.scale = \"1\";\r\n    continueBtn.style.transition = \"all 0.5s cubic-bezier(.33,1.53,.69,.99)\";\r\n  }\r\n});\r\n\r\nconst title1 = document.getElementById(\"title1\");\r\nconst step1 = document.getElementById(\"step1\");\r\nconst continueBtnHover = document.getElementById(\"continueBtnHover\");\r\n\r\ncontinueBtn.addEventListener(\"click\", () => {\r\n  continueBtn.style.scale = 1;\r\n  if(isStarted == false){\r\n    title1.style.transform = \"translateY(-100px) scale(0.4)\";\r\n    title1.style.transition = \"all 0.5s cubic-bezier(.33,1.53,.69,.99)\";\r\n    continueBtn.style.width = \"1000px\";\r\n    continueBtn.style.height = \"100px\";\r\n    continueBtn.style.backgroundColor =\"rgba(233, 222, 248, 0.25)\";\r\n    continueBtn.style.border =\"1px solid #fff\";\r\n    continueBtn.style.boxShadow = \"0px 10px 24px 0px rgba(0, 0, 0, 0.18)\";\r\n    continueBtn.disabled = true;\r\n    inputText.style.display = \"flex\";\r\n    inputText.style.opacity = 1;\r\n    inputText.style.zIndex = 3;\r\n    step1.style.transition = \"all 0.5s cubic-bezier(.33,1.53,.69,.99)\";\r\n    step1.style.scale = \"1 1\";\r\n    inputBG.style.width = \"800px\";\r\n    inputBG.style.height = \"70px\";\r\n    inputBG.style.opacity = 1;\r\n    inputBG.style.zIndex = 3;\r\n    inputContainer.style.width = \"1000px\";\r\n    inputContainer.style.height = \"100px\";\r\n    historyBtn.style.display = \"block\";\r\n    inputCloseBtn.style.display = \"block\";\r\n    continueBtnHover.style.opacity = 0.2;\r\n    isStarted = true;\r\n  }\r\n    \r\n});\r\n\r\ninputCloseBtn.addEventListener(\"click\", () => {\r\n  continueBtn.style.width = \"280px\";\r\n    title1.style.transform = \"translateY(0px) scale(1)\";\r\n    title1.style.transition = \"all 0.5s cubic-bezier(.31,.01,.66,-0.59)\";\r\n    continueBtn.style.height = \"80px\";\r\n    continueBtn.style.backgroundColor = \"rgba(255, 255, 255, 0.5)\";\r\n    continueBtn.style.border =\"0px solid #fff\";\r\n    continueBtn.style.boxShadow = \"0px 0px 0px 0px rgba(0, 0, 0, 0.18)\";\r\n    continueBtn.disabled = false;\r\n    inputText.style.opacity = 0;\r\n    inputText.style.zIndex = 0;\r\n    inputBG.style.width = \"260px\";\r\n    inputBG.style.height = \"60px\";\r\n    inputBG.style.opacity = 0;\r\n    inputBG.style.zIndex = 0;\r\n    step1.style.transition = \"all 0.5s cubic-bezier(.31,.01,.66,-0.59)\";\r\n    step1.style.scale = \"1 0\";\r\n    inputContainer.style.width = \"280px\";\r\n    inputContainer.style.height = \"80px\";\r\n    historyBtn.style.display = \"none\";\r\n    inputCloseBtn.style.display = \"none\";\r\n    continueBtnHover.style.opacity = 1;\r\n    setTimeout(() => {\r\n      inputText.style.display = \"none\";\r\n    }, 500);\r\n    isStarted = false;\r\n  });\r\n\r\nnextBtn.addEventListener('click', function(){\r\n  \r\n  const generateBG = document.createElement(\"div\");\r\n  generateBG.id = \"generateBG\";\r\n  setTimeout(() => {\r\n    generateBG.style.backdropFilter = \"blur(150px)\";\r\n  }, 10);\r\n  document.body.appendChild(generateBG);\r\n  responseArea.innerHTML = \"生成中請稍後...\";\r\n  generateBG.appendChild(responseArea);\r\n  sendMessage();\r\n});\r\n\r\ninputText.addEventListener(\"input\", () => {\r\n  if(inputText.value != \"\"){\r\n    inputText.style.width = \"870px\";\r\n    inputBG.style.width = \"970px\";\r\n  }\r\n  else{\r\n    inputText.style.width = \"870px\";\r\n    inputBG.style.width = \"800px\";\r\n  }\r\n});\r\n\r\n\r\nasync function sendMessage() {\r\n  const userText = inputText.value;\r\n  const question = \"幫我畫\" + userText;\r\n  if (question) {\r\n      try {\r\n          const response = await fetch('/askGemini', {\r\n              method: 'POST',\r\n              headers: {\r\n                  'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify({ question }),\r\n          });\r\n          const data = await response.json()\r\n          responseArea.innerHTML = marked.marked(data.response); // 顯示文字回應\r\n          responseArea.style.textAlign = \"left\";\r\n\r\n          if (data.image) {\r\n              const imageElement = document.createElement('img');\r\n              imageElement.src = data.image;\r\n              responseArea.appendChild(imageElement); // 顯示圖片\r\n          }\r\n      } catch (error) {\r\n          console.error('Error:', error);\r\n          responseArea.textContent = '發生錯誤，請稍後再試。';\r\n          responseArea.style.textAlign = \"center\";\r\n      }\r\n  }\r\n}\n\n//# sourceURL=webpack://computer-organization/./public/js/home.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./public/js/home.js"]();
/******/ 	
/******/ })()
;